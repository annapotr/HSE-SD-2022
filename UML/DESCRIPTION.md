## SShell
Класс, который запускает интерпретатор. Стартует процесс считывания выражений, их парсинг и исполнение.

Поля:
- `cmdEnv: List<CommandEnvironment>` – в них будут пытаться найти команду для выполнения.
- `varEnv: VariableEnvironment` – в нем хранятся все переменные окружения
- `reader: Reader` – через него осуществляется чтение текста выражений
- `runner: Runner` – запускает исполнение выражения
- `parser: Parser` – парсит выражения
- `io: IO` – содержит различные потоки для stdin, stdout, stderr и т.п.

Методы:
- `start()` – запускает интерпретатор. В цикле происходит чтение выражения, его парсинг
и исполнение.

## IO
Содержит различные потоки для stdin, stdout, stderr и т.п.


## CommandEnvironmnet
Базовый интерфейс для поиска команды по ее строковому представлению.

Методы:
- `getCommand(String): Optional<Command>` – принимает на вход имя команды, возвращает ее, если данное окружение знает такую команду

- `BuiltinCommandEnvironment` – имплементация интерфейса `CommandEnvironmnet`. Хранит внутри себя базовые команды, которые мы делаем в баше (wc, echo и т д). По сути словарь из имени команды в представителя класса команды.

Методы:
- `register(String, Command)` – добавляет новую команду.

## ExternalCommandEnvironment
Имплементация интерфейса CommandEnvironmnet. Необходим для использования неизвестных команд для нашего интерпретатора. Хранит внутри себя список путей, по которым он может найти необходимую команду

Методы:
- `addPath(String)` – добавляет новый путь для поиска команд (по сути аналог переменной окружения PYTHONPATH).

## Command
Базовый интерфейс для всех команд.

Методы:
- `eval(List<String>, IO)` – вычисляет результат на основании значений аргументов, переданных в листе и на основании стрима входных данных (например, в качестве стрима может выступать межпроцессный канал, который находится между двумя процессами при запуске нашего башевого пайпа).

`Echo`, `ExitCommand`, `Cat`, `WordCount`, `PrintWorkingDirectory` – имплементация интерфейса command, которые на основании аргументов и потока ввода выводят в поток вывода результат выполнения, который аналогичен башевому варианту.

## ExternalCommand
имплементация интерфейса command, класс, который дополнительно в конструкторе получает путь до внешнего исполняемого файла и запускает его с помощью Process

## UserInteraction
Класс, который прямо взаимодействует с пользователем.

Поля:
- `input: InputStream` – поток, куда пользователь печатает свои команды
- `output: OutputStream` – поток, куда выводится взаимодействие с пользователем: приветствие, предложение написать очередную команду (>>>)

Методы:
- `read(): String` – читает строку, введенную пользователем

## Runner
Класс, необходимый для запуска пайпа или одиночной команды.

Поля:
- `cmdEnv: List<CommandEnvironment>` – в них будут пытаться найти команды для выполнения.
- `varEnv: VariableEnvironment` – в нем хранятся все переменные окружения.

Методы:
- `run(Statement, IO)` – запуск исполнения выражения.

## Variable Environment
Класс, содержащей в себя переменные окружения с вычисленным значением

Поля:
- `parent: Optional<VariableEnvironment>` – родительское окружение, в котором будет искаться переменная, если не найдется в текущем (в пайпе могут создаваться переменные, сначала переменные ищутся в них, потом в глобальном scope)
- `nameToValue: Map<String, String>` – словарь со значениями переменных

Методы:
- `get(String): String` – получение значения переменной.
- `set(String, String)` – задание значения переменной.
- `fork(): VariableEnvironment` – создает дочернее окружение, с родителем – текущим окружением.

## Parser
Класс, который разбирает команду в синтаксическое дерево и делает подстановку переменных.

Методы:
parse(String): PreStatement – разбирает строку в синтаксическое дерево и оставляет подстановки вершинами
subst(PreStatement, VariableEnvironment) – подставляет значения переменных и объединяет соседние строки, возвращая команду и её аргументы или присвоение

Prestatement – data class, содержащий дерево разбора без подставленных переменных

Statement – data class, содержащий лист из команд в пайпе

Task – sealed interface того, какие команды можно исполнить
Assignement – data class, содержащий информацию о команде присвоения значения в переменную
CommandRun – data class, содержащий информацию о вызове внешней или встроенной команды
